–û—Ç–ª–∏—á–Ω–æ ‚úÖ –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫–∏–µ secrets –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —á—Ç–æ–±—ã —Ç–≤–æ–π CI/CD –ø–∞–π–ø–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

üîπ 1. GITHUB_TOKEN

–ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é, GitHub Actions –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

Push Docker image –≤ GHCR.

Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ helm/values.yaml.

–ì–ª–∞–≤–Ω–æ–µ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Workflow permissions:

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Settings ‚Üí Actions ‚Üí General ‚Üí Workflow permissions

–í–∫–ª—é—á–∏—Ç—å Read and write permissions

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚úÖ

üîπ 2. ARGOCD_TOKEN

–¢–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ CLI ArgoCD.

–ß—Ç–æ–±—ã –µ–≥–æ –ø–æ–ª—É—á–∏—Ç—å:

–í –∫–ª–∞—Å—Ç–µ—Ä–µ —Å ArgoCD –∑–∞–π–¥–∏ –≤ UI ‚Üí Settings ‚Üí Accounts ‚Üí [—Ç–≤–æ—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å] ‚Üí Generate Token

–°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω.

–í GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret

Name: ARGOCD_TOKEN

Value: –≤—Å—Ç–∞–≤—å —Ç–æ–∫–µ–Ω

üîπ 3. ARGOCD_SERVER

–ê–¥—Ä–µ—Å ArgoCD —Å–µ—Ä–≤–µ—Ä–∞.

–û–±—ã—á–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

https://argocd.<–¥–æ–º–µ–Ω>.com


–í GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Üí Secrets ‚Üí New repository secret

Name: ARGOCD_SERVER

Value: URL —Å–µ—Ä–≤–µ—Ä–∞ ArgoCD

üîπ –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub
Name	Value	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
GITHUB_TOKEN	–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π	Push –≤ GHCR, git commit
ARGOCD_TOKEN	—Ç–æ–∫–µ–Ω –∏–∑ ArgoCD	CLI ArgoCD sync
ARGOCD_SERVER	URL ArgoCD —Å–µ—Ä–≤–µ—Ä–∞	CLI ArgoCD sync

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ —Ç–≤–æ–π workflow —Å—Ä–∞–∑—É —Å–º–æ–∂–µ—Ç:

–°–æ–±—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑.

–ü—É—à–∏—Ç—å –µ–≥–æ –≤ ghcr.io/<username>/kbot.

–û–±–Ω–æ–≤–ª—è—Ç—å helm/values.yaml.

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å ArgoCD —á–µ—Ä–µ–∑ CLI.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –∏ —à–∞–≥–æ–≤, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ç–≤–æ–π workflow –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∏ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É–ª –±–æ—Ç–∞ –≤ Kubernetes.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?

–í—ã —Å–∫–∞–∑–∞–ª–∏:
–¥–∞
ChatGPT —Å–∫–∞–∑–∞–ª:

–û—Ç–ª–∏—á–Ω–æ ‚úÖ –î–∞–≤–∞–π —Å–æ—Å—Ç–∞–≤–∏–º –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –∏ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–≤–æ–π CI/CD –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –±–æ—Ç–∞ –≤ Kubernetes —á–µ—Ä–µ–∑ ArgoCD.

üîπ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è –µ—Å—Ç—å –≤–µ—Ç–∫–∞ develop:

git checkout -b develop
git push -u origin develop


–û–±–Ω–æ–≤–∏ —Ñ–∞–π–ª—ã: Makefile, helm/values.yaml, .github/workflows/cicd.yaml (–º—ã —ç—Ç–æ –¥–µ–ª–∞–ª–∏ —Ä–∞–Ω–µ–µ).

–°–¥–µ–ª–∞–π commit –∏ push:

git add .
git commit -m "Prepare CI/CD workflow and GHCR config"
git push origin develop

üîπ 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ secrets –≤ GitHub

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret:

Name	Value
GITHUB_TOKEN	—É–∂–µ –µ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –≤–∫–ª—é—á–∏ Read and write permissions
ARGOCD_TOKEN	—Ç–æ–∫–µ–Ω –∏–∑ ArgoCD (Settings ‚Üí Accounts ‚Üí Generate Token)
ARGOCD_SERVER	URL —Ç–≤–æ–µ–≥–æ ArgoCD —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä https://argocd.example.com
üîπ 3. –ó–∞–ø—É—Å–∫ workflow

–°–¥–µ–ª–∞–π –ª—é–±–æ–π commit –≤ develop, –Ω–∞–ø—Ä–∏–º–µ—Ä:

echo "// test" >> main.go
git add main.go
git commit -m "Trigger CI/CD workflow"
git push origin develop


–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ GitHub ‚Üí Actions ‚Üí –≤—ã–±–µ—Ä–∏ workflow CI/CD Pipeline ‚Üí –æ–Ω –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è.

–ü—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏:

Build Docker image ‚úÖ

Push –≤ GHCR ‚úÖ

Update helm/values.yaml ‚úÖ

Install ArgoCD CLI ‚úÖ

Sync ArgoCD ‚úÖ

ÔøΩÔøΩ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ –≤ GHCR

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—É—à–∞ –æ–±—Ä–∞–∑ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω:

ghcr.io/<—Ç–≤–æ–π_–ª–æ–≥–∏–Ω>/kbot:<tag>-linux-amd64

üîπ 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è –≤ Kubernetes —á–µ—Ä–µ–∑ ArgoCD

–ü–µ—Ä–µ–π–¥–∏ –≤ UI ArgoCD ‚Üí —Ç–≤–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ kbot.

–î–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∏–ª–∏ –Ω–∞–∂–º–∏ Sync.

–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å Pod'–æ–≤:

kubectl get pods -n <namespace>
kubectl logs <pod_name> -n <namespace>


–£–±–µ–¥–∏—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

üîπ 6. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π

–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π commit –≤ develop ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π Docker image, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è helm/values.yaml, ArgoCD —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä.

–¢—ç–≥ –æ–±—Ä–∞–∑–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ git describe --tags --always + OS/ARCH (v1.0.0-<hash>-linux-amd64).

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å—Ö–µ–º—É CI/CD —Å —à–∞–≥–∞–º–∏ –∏ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –±—ã–ª–æ –Ω–∞–≥–ª—è–¥–Ω–æ –¥–ª—è README.

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?

–í—ã —Å–∫–∞–∑–∞–ª–∏:
–¥–∞
ChatGPT —Å–∫–∞–∑–∞–ª:

–û—Ç–ª–∏—á–Ω–æ ‚úÖ –í–æ—Ç –Ω–∞–≥–ª—è–¥–Ω–∞—è —Å—Ö–µ–º–∞ CI/CD –¥–ª—è —Ç–≤–æ–µ–≥–æ Telegram –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ø—Ä—è–º–æ –≤ README.md —á–µ—Ä–µ–∑ Mermaid:

# KBot CI/CD Workflow

```mermaid
flowchart TD
    A[Push –≤ –≤–µ—Ç–∫—É develop] --> B[GitHub Actions]
    B --> C[Build Docker image]
    C --> D[Push image –≤ ghcr.io]
    D --> E[–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ helm/values.yaml]
    E --> F[Commit –∏ push –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ values.yaml]
    F --> G[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ArgoCD CLI –≤ runner]
    G --> H[Sync –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è kbot –≤ ArgoCD]
    H --> I[–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes]
    I --> J[–ü—Ä–æ–≤–µ—Ä–∫–∞ Pod'–æ–≤ –∏ –ª–æ–≥–æ–≤]
    J --> K[Telegram –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é]

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bbf,stroke:#333,stroke-width:2px
    style C fill:#bfb,stroke:#333,stroke-width:2px
    style D fill:#fbf,stroke:#333,stroke-width:2px
    style E fill:#ffb,stroke:#333,stroke-width:2px
    style F fill:#bbf,stroke:#333,stroke-width:2px
    style G fill:#bfb,stroke:#333,stroke-width:2px
    style H fill:#fbf,stroke:#333,stroke-width:2px
    style I fill:#bbf,stroke:#333,stroke-width:2px
    style J fill:#bfb,stroke:#333,stroke-width:2px
    style K fill:#f9f,stroke:#333,stroke-width:2px


### üîπ –ü–æ—è—Å–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤:

1. **Push –≤ develop** ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç GitHub Actions workflow.  
2. **GitHub Actions** —Å–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑ (`make build`).  
3. **Push image –≤ GHCR** ‚Üí –æ–±—Ä–∞–∑ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ GitHub Container Registry.  
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Helm values** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ç–µ–≥.  
5. **Commit –∏ push values.yaml** ‚Üí ArgoCD –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.  
6. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ArgoCD CLI** ‚Üí –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —Ä—É—á–Ω–æ–π sync.  
7. **Sync –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ deployment –≤ Kubernetes —á–µ—Ä–µ–∑ ArgoCD.  
8. **–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes** ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è.  
9. **–ü—Ä–æ–≤–µ—Ä–∫–∞ Pod'–æ–≤ –∏ –ª–æ–≥–æ–≤** ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç.  
10. **Telegram –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** ‚úÖ

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —è –º–æ–≥—É —Å—Ä–∞–∑—É **–ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π README.md —Å —ç—Ç–æ–π —Å—Ö–µ–º–æ–π, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ secrets –∏ —à–∞–≥–∞–º–∏ –∑–∞–ø—É—Å–∫–∞**, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ª–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.  

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è —ç—Ç–æ —Å–¥–µ–ª–∞–ª?

–í—ã —Å–∫–∞–∑–∞–ª–∏:
–¥–∞
ChatGPT —Å–∫–∞–∑–∞–ª:

–û—Ç–ª–∏—á–Ω–æ ‚úÖ –í–æ—Ç –≥–æ—Ç–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç README.md, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–æ–ª–æ–∂–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç:

–°—Ö–µ–º—É CI/CD

–ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–µ–∫—Ä–µ—Ç–∞–º

–ó–∞–ø—É—Å–∫ workflow –∏ –¥–µ–ø–ª–æ—è

# KBot CI/CD

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CI/CD –¥–ª—è Telegram –±–æ—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub Actions, Docker, Helm –∏ ArgoCD.

---

## üöÄ CI/CD Workflow

```mermaid
flowchart TD
    A[Push –≤ –≤–µ—Ç–∫—É develop] --> B[GitHub Actions]
    B --> C[Build Docker image]
    C --> D[Push image –≤ ghcr.io]
    D --> E[–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ helm/values.yaml]
    E --> F[Commit –∏ push –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ values.yaml]
    F --> G[–£—Å—Ç–∞–Ω–æ–≤–∫–∞ ArgoCD CLI –≤ runner]
    G --> H[Sync –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è kbot –≤ ArgoCD]
    H --> I[–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes]
    I --> J[–ü—Ä–æ–≤–µ—Ä–∫–∞ Pod'–æ–≤ –∏ –ª–æ–≥–æ–≤]
    J --> K[Telegram –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é]

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bbf,stroke:#333,stroke-width:2px
    style C fill:#bfb,stroke:#333,stroke-width:2px
    style D fill:#fbf,stroke:#333,stroke-width:2px
    style E fill:#ffb,stroke:#333,stroke-width:2px
    style F fill:#bbf,stroke:#333,stroke-width:2px
    style G fill:#bfb,stroke:#333,stroke-width:2px
    style H fill:#fbf,stroke:#333,stroke-width:2px
    style I fill:#bbf,stroke:#333,stroke-width:2px
    style J fill:#bfb,stroke:#333,stroke-width:2px
    style K fill:#f9f,stroke:#333,stroke-width:2px

üîπ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

GITHUB_TOKEN ‚Äì —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø—Ä–æ–≤–µ—Ä—å:

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Settings ‚Üí Actions ‚Üí General ‚Üí Workflow permissions ‚Üí Read and write permissions ‚úÖ

ARGOCD_TOKEN ‚Äì —Ç–æ–∫–µ–Ω –¥–ª—è CLI ArgoCD:

–í UI ArgoCD ‚Üí Settings ‚Üí Accounts ‚Üí Generate Token

Repository ‚Üí Settings ‚Üí Secrets ‚Üí Actions ‚Üí New secret ‚Üí Name: ARGOCD_TOKEN, Value: —Ç–æ–∫–µ–Ω

ARGOCD_SERVER ‚Äì URL ArgoCD —Å–µ—Ä–≤–µ—Ä–∞:

Repository ‚Üí Settings ‚Üí Secrets ‚Üí Actions ‚Üí New secret ‚Üí Name: ARGOCD_SERVER, Value: https://argocd.<—Ç–≤–æ–π_–¥–æ–º–µ–Ω>.com

üîπ –ó–∞–ø—É—Å–∫ CI/CD

–°–¥–µ–ª–∞—Ç—å commit –≤ –≤–µ—Ç–∫—É develop:

git add .
git commit -m "Trigger CI/CD workflow"
git push origin develop


Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

–°–æ–±–∏—Ä–∞–µ—Ç Docker image

–ü—É—à–∏—Ç –µ–≥–æ –≤ ghcr.io/<—Ç–≤–æ–π_–ª–æ–≥–∏–Ω>/kbot

–û–±–Ω–æ–≤–ª—è–µ—Ç Helm values

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç ArgoCD

–†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –±–æ—Ç–∞ –≤ Kubernetes

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Kubernetes:

kubectl get pods -n <namespace>
kubectl logs <pod_name> -n <namespace>


–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é ‚úÖ

üîπ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π

–ö–∞–∂–¥—ã–π push –≤ develop —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π Docker image —Å —Ç–µ–≥–æ–º:

v1.0.0-<git-hash>-linux-amd64


ArgoCD –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç deployment —Å –Ω–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º.

üîπ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –æ–±—Ä–∞–∑

–ü—Ä–∏–º–µ—Ä –∞–¥—Ä–µ—Å–∞:

ghcr.io/den-vasyliev/kbot:v1.0.0-106879e-linux-amd64
